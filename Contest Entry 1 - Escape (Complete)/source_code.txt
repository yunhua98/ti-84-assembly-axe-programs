.ESCAPE

ClrDraw
ClrDraw^^r

DiagnosticOff

[0000000000000000]->Pic5

[0000000000000000000000000000000000000000000000000000000FC0FE1C00000000000000FF9FE3FE3C0007FC00000000FF3023003C1FF7F800000000E03002003E1FFF00000000006030060066181B00000000006038060066181B00000000007FBFE60062181BFC000000007F9FE60062181BFC0000000060006600631813000000000060002600FF1FF3000000000060002600FF9FF3000000000060206600C1980300000000007FBFE3FCC1D803FC000000007F1F83FD809803F80000000040000000001C020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000787F871FE387F87800000000FC618F9867C618FC00000000CC529994A66528FC00000000844C88932444C8B400000000784C87132384C87800000000B4528A94A54528B400000000486185186286184800000000FC7F8D9FE6C7F8FC0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000739E738191700000000000004A50840059480000000000004BDC63005548000000000000729010809348000000000000425EE701D1700000000000000000000000000000000000007FFFFFFFFFF8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000]

[0000000000000000]->Pic0
.WALL
[FF11FF44FF11FF44]
.BLOCK
[FFC3A59999A5C3FF]
.BUTTON3
[003C4281C3BD7E00]
.DOOR4
.[2828283838282828]
[FF9999FFFF9999FF]
.HOLE5
[FFFFFFFFFFFFFFFF]

.FRONT
[3C7E66423C5A247E]->Pic1
.LEFT
[387C66443854286C]
.RIGHT
[1C3E66221C2A1436]
.BACK
[3C7E7E5A3C5A247E]

.ROOM1
[010101010101010101010101]->GDB1
[000200020002000200020001]
[010000000000000000000001]
[010200020002000200020001]
[010000000000000000000001]
[010200020002000200020001]
[010000000000000000000000]
[010101010101010101010101]

.ROOM2
[010101010101010101010101]
[000200020002000200020001]
[010002000200020002000201]
[010200020002000200020001]
[010002000200020002000200]
[010200020002000200020000]
[010002000200020002000201]
[010101010101010101010101]

.ROOM5/2
[010101010101010101010101]
[000200000000000000010001]
[010101010101010201000001]
[010000000000020001000001]
[010102010101010001000001]
[010100000000000100000001]
[010100000000000200000000]
[010101010101010101010101]

.ROOM11/4
[010101010101010101010101]
[000200020000000000000001]
[010202000200000000000001]
[010002020002000000000001]
[010200000101000000000001]
[010202000200000000000001]
[010000010101000000050500]
[010101010101010101010101]

.ROOM23/8
[010101010101010101010101]
[000200000000000000000001]
[010101000000010101010001]
[010101010101000002000001]
[010000000002020000010101]
[010000000200020000000001]
[010300000200020000000004]
[010101010101010101010101]

.ROOM3
[010101010101010101010101]
[000200020202000000000001]
[010200000200020000000201]
[010002020202000000020201]
[010202020000000002020001]
[010000000200000200020001]
[010000000000020200000000]
[010101010101010101010101]

.ROOM7/2
[010101010101010101010101]
[000002000202020000000001]
[010002000200020000000001]
[010002000202000000000001]
[010002000200020000000201]
[010002000202020000020001]
[010002000200000002000000]
[010101010101010101010101]

.ROOM4
[010101010101010101010101]
[000200020000000002000001]
[010002000000000102000001]
[010101010101010101010001]
[010200000000000002000001]
[010302020202000001010101]
[010000000002000004000000]
[010101010101010101010101]
.ROOM5
[010101010101010101010101]
[000200000000000100020001]
[010101010100010000020004]
[010000000200010000010201]
[010003010101010003010501]
[010000000403020001000001]
[010000000402000200000004]
[010101010101010101010101]

.ROOM11/2
[010101010101010101010101]
[000001000000000000010101]
[010001020202020200010101]
[010000030403040100000001]
[010101020202020000020001]
[010000000204010202000001]
[010000010101010000000000]
[010101010101010101010101]

.ROOM6
[010101010101010101010101]
[000205010001000100000001]
[010205020002000105020001]
[010502050000000100010001]
[010101010000000100010001]
[010305000000010002010501]
[010002000005040200040000]
[010101010101010101010101]

.ROOM7
[010101010101010101010101]
[000205010000020002000101]
[010301000002020505000101]
[010401000200010202020101]
[010200010401000300000101]
[010000040301040200020101]
[010500020501000000000000]
[010101010101010101010101]

Copy(Pic5+8,L6,768

For(B,0,7
	For(A,0,11
		Pt-Change(8*A,8*B,[FFFFFFFFFFFFFFFF]
	End
End

Repeat getKey(54)
	DispGraph
End

ClrDraw

0->L

Lbl NL

If 96*12=L
	Goto MAP
End

0->theta->P+1->Q

Copy(GDB1+L,L1,96

Repeat getKey(15)
	
	P->Z
	Q->W
	
	getKey->K
	
	If K=1
		If {Q+1*12+P+L1}=0
			Q+1->Q
		End
		If {Q+1*12+P+L1}=3 and (Q=W
			Q+1->Q
			For(A,0,95
				If {A+GDB1+L}=4
					4-{A+L1}->{A+L1}
				End
			End
		End
		If {Q+1*12+P+L1}=2 and (Q=W
			If {Q+2*12+P+L1}=0
				0->{Q+1*12+P+L1}
				2->{Q+2*12+P+L1}
				Q+1->Q
			End
			If {Q+2*12+P+L1}=5
				0->{Q+1*12+P+L1}
				0->{Q+2*12+P+L1}
				Q+1->Q
			End
		End
	End
	If K=4
		If {Q-1*12+P+L1}=0
			Q-1->Q
		End
		If {Q-1*12+P+L1}=3 and (Q=W
			Q-1->Q
			For(A,0,95)
				If {A+GDB1+L}=4
					4-{A+L1}->{A+L1}
				End
			End
		End
		If {Q-1*12+P+L1}=2
			If {Q-2*12+P+L1}=0 and (Q=W
				0->{Q-1*12+P+L1}
				2->{Q-2*12+P+L1}
				Q-1->Q
			End
			If {Q-2*12+P+L1}=5
				0->{Q-1*12+P+L1}
				0->{Q-2*12+P+L1}
				Q-1->Q
			End
		End
	End
	If K=3
		If {Q*12+P+1+L1}=0
			P+1->P
		End
		If {Q*12+P+1+L1}=3 and (P=Z
			P+1->P
			For(A,0,95)
				If {A+GDB1+L}=4
					4-{A+L1}->{A+L1}
				End
			End
		End
		If {Q*12+P+1+L1}=2 and (P=Z
			If {Q*12+P+2+L1}=0
				0->{Q*12+P+1+L1}
				2->{Q*12+P+2+L1}
				P+1->P
			End
			If {Q*12+P+2+L1}=5
				0->{Q*12+P+1+L1}
				0->{Q*12+P+2+L1}
				P+1->P
			End
		End
	End
	
	If K=2
		If {Q*12+P-1+L1}=0
			P-1->P
		End
		If {Q*12+P-1+L1}=3 and (P=Z
			P-1->P
			For(A,0,95)
				If {A+GDB1+L}=4
					4-{A+L1}->{A+L1}
				End
			End
		End
		If {Q*12+P-1+L1}=2 and (P=Z
			If {Q*12+P-2+L1}=0
				0->{Q*12+P-1+L1}
				2->{Q*12+P-2+L1}
				P-1->P
			End
			If {Q*12+P-2+L1}=5
				0->{Q*12+P-1+L1}
				0->{Q*12+P-2+L1}
				P-1->P
			End
		End
	End
	
	If K=10
		L+96->L
		Goto NL
	End
	
	If Q>W
		0->theta
	End
	If Q<W
		3->theta
	End
	If P>Z
		2->theta
	End
	If P<Z
		1->theta
	End
	
	If K=55
		Goto NL
	End
	
	If P=11
		Pt-Off(Z*8,W*8,[0000000000000000]
		Pt-On(P*8,Q*8,theta*8+Pic1
		While getKey(3)
			DispGraph
		End
		
		[FEFDFBF7EFDFBD7F]->Str2
		Repeat getKey(54)
			Fix 5
			Text(23,24,"LEVEL COMPLETE"
			Text(31,32,"PRESS [2ND]
			Fix 4
			For(F,L6+12,L6+767
				{F} and {rand^8+Str2}->{F-12}
			End
			DispGraph
		End
		
		L+96->L
		
		Goto NL
	End
	sub(MAP)
	
	Pt-Off(P*8,Q*8,theta*8+Pic1
	
	DispGraph
	
End

Lbl MAP

ClrDraw
ClrDraw^^r

For(B,0,7
	For(A,0,11
		Pt-On(A*8,B*8,{B*12+A+L1}*8+Pic0
	End
End